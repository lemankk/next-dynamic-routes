import t from"react";import e from"next/link";import r from"next/router";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var o=s((function(t,e){!function(r){var s=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var i,h,u=2147483647,f=/^xn--/,p=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,d=String.fromCharCode;function v(t){throw RangeError(c[t])}function g(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function y(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+g((t=t.replace(l,".")).split("."),e).join(".")}function x(t){for(var e,r,n=[],s=0,o=t.length;s<o;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<o?56320==(64512&(r=t.charCodeAt(s++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),s--):n.push(e);return n}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,r){var n=0;for(t=r?m(t/700):t>>1,t+=m(t/e);t>455;n+=36)t=m(t/35);return m(n+36*t/(t+38))}function j(t){var e,r,n,s,o,a,i,h,f,p,l,c=[],d=t.length,g=0,y=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&v("not-basic"),c.push(t.charCodeAt(n));for(s=r>0?r+1:0;s<d;){for(o=g,a=1,i=36;s>=d&&v("invalid-input"),((h=(l=t.charCodeAt(s++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36)>=36||h>m((u-g)/a))&&v("overflow"),g+=h*a,!(h<(f=i<=x?1:i>=x+26?26:i-x));i+=36)a>m(u/(p=36-f))&&v("overflow"),a*=p;x=O(g-o,e=c.length+1,0==o),m(g/e)>u-y&&v("overflow"),y+=m(g/e),g%=e,c.splice(g++,0,y)}return b(c)}function E(t){var e,r,n,s,o,a,i,h,f,p,l,c,g,y,b,j=[];for(c=(t=x(t)).length,e=128,r=0,o=72,a=0;a<c;++a)(l=t[a])<128&&j.push(d(l));for(n=s=j.length,s&&j.push("-");n<c;){for(i=u,a=0;a<c;++a)(l=t[a])>=e&&l<i&&(i=l);for(i-e>m((u-r)/(g=n+1))&&v("overflow"),r+=(i-e)*g,e=i,a=0;a<c;++a)if((l=t[a])<e&&++r>u&&v("overflow"),l==e){for(h=r,f=36;!(h<(p=f<=o?1:f>=o+26?26:f-o));f+=36)b=h-p,y=36-p,j.push(d(w(p+b%y,0))),h=m(b/y);j.push(d(w(h,0))),o=O(r,g,n==s),r=0,++n}++r,++e}return j.join("")}if(i={version:"1.3.2",ucs2:{decode:x,encode:b},decode:j,encode:E,toASCII:function(t){return y(t,(function(t){return p.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return y(t,(function(t){return f.test(t)?j(t.slice(4).toLowerCase()):t}))}},s&&o)if(t.exports==s)o.exports=i;else for(h in i)i.hasOwnProperty(h)&&(s[h]=i[h]);else r.punycode=i}(n)})),a=function(t){return"string"==typeof t},i=function(t){return"object"==typeof t&&null!==t},h=function(t){return null===t},u=function(t){return null==t};function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p=function(t,e,r,n){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var i=t.length;a>0&&i>a&&(i=a);for(var h=0;h<i;++h){var u,p,l,c,m=t[h].replace(o,"%20"),d=m.indexOf(r);d>=0?(u=m.substr(0,d),p=m.substr(d+1)):(u=m,p=""),l=decodeURIComponent(u),c=decodeURIComponent(p),f(s,l)?Array.isArray(s[l])?s[l].push(c):s[l]=[s[l],c]:s[l]=c}return s},l=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},c=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var s=encodeURIComponent(l(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return s+encodeURIComponent(l(t))})).join(e):s+encodeURIComponent(l(t[n]))})).join(e):n?encodeURIComponent(l(n))+r+encodeURIComponent(l(t)):""},m=s((function(t,e){e.decode=e.parse=p,e.encode=e.stringify=c})),d=(m.decode,m.parse,m.encode,m.stringify,I);function v(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,y=/:[0-9]*$/,x=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,b=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),w=["'"].concat(b),O=["%","/","?",";","#"].concat(w),j=["/","?","#"],E=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function I(t,e,r){if(t&&i(t)&&t instanceof v)return t;var n=new v;return n.parse(t,e,r),n}function P(t,e){void 0===e&&(e={});for(var r=function(t){for(var e=[],r=0;r<t.length;){var n=t[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)e.push({type:"CHAR",index:r,value:t[r++]});else{var s=1,o="";if("?"===t[i=r+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<t.length;)if("\\"!==t[i]){if(")"===t[i]){if(0===--s){i++;break}}else if("("===t[i]&&(s++,"?"!==t[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);o+=t[i++]}else o+=t[i++]+t[i++];if(s)throw new TypeError("Unbalanced pattern at "+r);if(!o)throw new TypeError("Missing pattern at "+r);e.push({type:"PATTERN",index:r,value:o}),r=i}else{for(var a="",i=r+1;i<t.length;){var h=t.charCodeAt(i);if(!(h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||95===h))break;a+=t[i++]}if(!a)throw new TypeError("Missing parameter name at "+r);e.push({type:"NAME",index:r,value:a}),r=i}else e.push({type:"CLOSE",index:r,value:t[r++]});else e.push({type:"OPEN",index:r,value:t[r++]});else e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});else e.push({type:"MODIFIER",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}(t),n=e.prefixes,s=void 0===n?"./":n,o="[^"+T(e.delimiter||"/#?")+"]+?",a=[],i=0,h=0,u="",f=function(t){if(h<r.length&&r[h].type===t)return r[h++].value},p=function(t){var e=f(t);if(void 0!==e)return e;var n=r[h],s=n.type,o=n.index;throw new TypeError("Unexpected "+s+" at "+o+", expected "+t)},l=function(){for(var t,e="";t=f("CHAR")||f("ESCAPED_CHAR");)e+=t;return e};h<r.length;){var c=f("CHAR"),m=f("NAME"),d=f("PATTERN");if(m||d){var v=c||"";-1===s.indexOf(v)&&(u+=v,v=""),u&&(a.push(u),u=""),a.push({name:m||i++,prefix:v,suffix:"",pattern:d||o,modifier:f("MODIFIER")||""})}else{var g=c||f("ESCAPED_CHAR");if(g)u+=g;else if(u&&(a.push(u),u=""),f("OPEN")){v=l();var y=f("NAME")||"",x=f("PATTERN")||"",b=l();p("CLOSE"),a.push({name:y||(x?i++:""),pattern:y&&!x?o:x,prefix:v,suffix:b,modifier:f("MODIFIER")||""})}else p("END")}}return a}function U(t,e){return function(t,e){void 0===e&&(e={});var r=N(e),n=e.encode,s=void 0===n?function(t){return t}:n,o=e.validate,a=void 0===o||o,i=t.map((function(t){if("object"==typeof t)return new RegExp("^(?:"+t.pattern+")$",r)}));return function(e){for(var r="",n=0;n<t.length;n++){var o=t[n];if("string"!=typeof o){var h=e?e[o.name]:void 0,u="?"===o.modifier||"*"===o.modifier,f="*"===o.modifier||"+"===o.modifier;if(Array.isArray(h)){if(!f)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===h.length){if(u)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var p=0;p<h.length;p++){var l=s(h[p],o);if(a&&!i[n].test(l))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+l+'"');r+=o.prefix+l+o.suffix}}else if("string"!=typeof h&&"number"!=typeof h){if(!u){var c=f?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+c)}}else{l=s(String(h),o);if(a&&!i[n].test(l))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+l+'"');r+=o.prefix+l+o.suffix}}else r+=o}return r}}(P(t,e),e)}function T(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function N(t){return t&&t.sensitive?"":"i"}function k(t,e,r){return function(t,e,r){void 0===r&&(r={});for(var n=r.strict,s=void 0!==n&&n,o=r.start,a=void 0===o||o,i=r.end,h=void 0===i||i,u=r.encode,f=void 0===u?function(t){return t}:u,p="["+T(r.endsWith||"")+"]|$",l="["+T(r.delimiter||"/#?")+"]",c=a?"^":"",m=0,d=t;m<d.length;m++){var v=d[m];if("string"==typeof v)c+=T(f(v));else{var g=T(f(v.prefix)),y=T(f(v.suffix));if(v.pattern)if(e&&e.push(v),g||y)if("+"===v.modifier||"*"===v.modifier){var x="*"===v.modifier?"?":"";c+="(?:"+g+"((?:"+v.pattern+")(?:"+y+g+"(?:"+v.pattern+"))*)"+y+")"+x}else c+="(?:"+g+"("+v.pattern+")"+y+")"+v.modifier;else c+="("+v.pattern+")"+v.modifier;else c+="(?:"+g+y+")"+v.modifier}}if(h)s||(c+=l+"?"),c+=r.endsWith?"(?="+p+")":"$";else{var b=t[t.length-1],w="string"==typeof b?l.indexOf(b[b.length-1])>-1:void 0===b;s||(c+="(?:"+l+"(?="+p+"))?"),w||(c+="(?="+l+"|"+p+")")}return new RegExp(c,N(r))}(P(t,r),e,r)}function $(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return t}(t,e):Array.isArray(t)?function(t,e,r){var n=t.map((function(t){return $(t,e,r).source}));return new RegExp("(?:"+n.join("|")+")",N(r))}(t,e,r):k(t,e,r)}v.prototype.parse=function(t,e,r){if(!a(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(s);i[0]=i[0].replace(/\\/g,"/");var h=t=i.join(s);if(h=h.trim(),!r&&1===t.split("#").length){var u=x.exec(h);if(u)return this.path=h,this.href=h,this.pathname=u[1],u[2]?(this.search=u[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=g.exec(h);if(f){var p=(f=f[0]).toLowerCase();this.protocol=p,h=h.substr(f.length)}if(r||f||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===h.substr(0,2);!l||f&&R[f]||(h=h.substr(2),this.slashes=!0)}if(!R[f]&&(l||f&&!q[f])){for(var c,d,v=-1,y=0;y<j.length;y++){-1!==(b=h.indexOf(j[y]))&&(-1===v||b<v)&&(v=b)}-1!==(d=-1===v?h.lastIndexOf("@"):h.lastIndexOf("@",v))&&(c=h.slice(0,d),h=h.slice(d+1),this.auth=decodeURIComponent(c)),v=-1;for(y=0;y<O.length;y++){var b;-1!==(b=h.indexOf(O[y]))&&(-1===v||b<v)&&(v=b)}-1===v&&(v=h.length),this.host=h.slice(0,v),h=h.slice(v),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),U=(y=0,P.length);y<U;y++){var T=P[y];if(T&&!T.match(E)){for(var N="",k=0,$=T.length;k<$;k++)T.charCodeAt(k)>127?N+="x":N+=T[k];if(!N.match(E)){var H=P.slice(0,y),_=P.slice(y+1),S=T.match(A);S&&(H.push(S[1]),_.unshift(S[2])),_.length&&(h="/"+_.join(".")+h),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=o.toASCII(this.hostname));var M=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+M,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!C[p])for(y=0,U=w.length;y<U;y++){var F=w[y];if(-1!==h.indexOf(F)){var L=encodeURIComponent(F);L===F&&(L=escape(F)),h=h.split(F).join(L)}}var B=h.indexOf("#");-1!==B&&(this.hash=h.substr(B),h=h.slice(0,B));var z=h.indexOf("?");if(-1!==z?(this.search=h.substr(z),this.query=h.substr(z+1),e&&(this.query=m.parse(this.query)),h=h.slice(0,z)):e&&(this.search="",this.query={}),h&&(this.pathname=h),q[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var G=this.search||"";this.path=M+G}return this.href=this.format(),this},v.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||q[e])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},v.prototype.resolve=function(t){return this.resolveObject(I(t,!1,!0)).format()},v.prototype.resolveObject=function(t){if(a(t)){var e=new v;e.parse(t,!1,!0),t=e}for(var r=new v,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),f=0;f<i.length;f++){var p=i[f];"protocol"!==p&&(r[p]=t[p])}return q[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!q[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var m=l[c];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||R[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||x||r.host&&t.pathname,O=w,j=r.pathname&&r.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!q[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===j[0]?j[0]=r.host:j.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===j[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,j=d;else if(d.length)j||(j=[]),j.pop(),j=j.concat(d),r.search=t.search,r.query=t.query;else if(!u(t.search)){if(E)r.hostname=r.host=j.shift(),(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift());return r.search=t.search,r.query=t.query,h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!j.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=j.slice(-1)[0],C=(r.host||t.host||j.length>1)&&("."===A||".."===A)||""===A,I=0,P=j.length;P>=0;P--)"."===(A=j[P])?j.splice(P,1):".."===A?(j.splice(P,1),I++):I&&(j.splice(P,1),I--);if(!w&&!O)for(;I--;I)j.unshift("..");!w||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),C&&"/"!==j.join("/").substr(-1)&&j.push("");var U,T=""===j[0]||j[0]&&"/"===j[0].charAt(0);E&&(r.hostname=r.host=T?"":j.length?j.shift():"",(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift()));return(w=w||r.host&&j.length)&&!T&&j.unshift(""),j.length?r.pathname=j.join("/"):(r.pathname=null,r.path=null),h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},v.prototype.parseHost=function(){var t=this.host,e=y.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const H=t=>Object.keys(t).filter(e=>null!==t[e]&&void 0!==t[e]).map(e=>{let r=t[e];return Array.isArray(r)&&(r=r.join("/")),[encodeURIComponent(e),encodeURIComponent(r)].join("=")}).join("&");class _{constructor(t){const{name:e,pattern:r,page:n=e}=t;if(!e&&!n)throw new Error(`Missing page to render for route "${r}"`);this.name=e,n&&this.updatePage(n),r&&this.updatePattern(r)}updatePattern(t){this.pattern!==t&&(this.pattern=t||"/"+this.name,this.regex=$(this.pattern,this.keys=[]),this.keyNames=this.keys.map(t=>t.name),this.toPath=U(this.pattern))}updatePage(t=""){this.page!==t&&(this.page=(""+t).replace(/(^|\/)index$/,"").replace(/^\/?/,"/"))}match(t){const e=this.regex.exec(t);if(e)return this.valuesToParams(e.slice(1))}valuesToParams(t){return t.reduce((t,e,r)=>void 0===e?t:Object.assign(t,{[this.keys[r].name]:decodeURIComponent(e)}),{})}getHref(t={}){return`${this.page}?${H(t)}`}getAs(t={}){const e=this.toPath(t)||"/",r=Object.keys(t).filter(t=>-1===this.keyNames.indexOf(t));if(!r.length)return e;const n=r.reduce((e,r)=>Object.assign(e,{[r]:t[r]}),{});return`${e}?${H(n)}`}getUrls(t){return{as:this.getAs(t),href:this.getHref(t)}}}class S{constructor(){this._routes=[],this._routes=[]}get routes(){return this._routes}createOption(t,e,r){let n={},s=t;return t instanceof Object?s=n.name:("/"===t[0]&&(r=e,e=t,s=null),n={name:s,pattern:e,page:r}),n}add(t,e,r){const n=t instanceof Object?t:this.createOption(t,e,r);if(this.findByName(n.name))throw new Error(`Route "${n.name}" already exists`);return this._routes.push(new _(n)),this}set(t,e,r){const n=t instanceof Object?t:this.createOption(t,e,r),s=this.findByName(n.name);return s?(n.pattern&&s.updatePattern(n.pattern),n.page&&s.updatePage(n.page)):this._routes.push(new _(n)),this}findByName(t){return t?this._routes.filter(e=>e.name===t)[0]:null}match(t){const e=d(t,!0),{pathname:r,query:n}=e;return this._routes.reduce((t,e)=>{if(t.route)return t;const s=e.match(r);return s?Object.assign(Object.assign({},t),{route:e,params:s,query:Object.assign(Object.assign({},n),s)}):t},{route:null,query:n,parsedUrl:e})}findAndGetUrls(t,e={}){const r=this.findByName(t);if(r)return{route:r,urls:r.getUrls(e),byName:!0};{const{route:e,query:r}=this.match(t),n=e?e.getHref(r):t;return{route:e,urls:{href:n,as:t},byName:!1}}}getRequestHandler(t,e=null){const r=t.getRequestHandler();return(n,s,o=null)=>{const{route:a,query:i,parsedUrl:h}=this.match(n.url);a?e?e({req:n,res:s,route:a,query:o?o({req:n,query:i,route:a}):i,parsedUrl:h}):t.render(n,s,a.page,o?o({req:n,query:i,route:a}):i,h):r(n,s,o?o({req:n,query:i,route:a}):i,h)}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function M(r,n=null){const s=n||e;return e=>{const{route:n,params:o,to:a}=e,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]])}return r}(e,["route","params","to"]),h=n||a;return h&&Object.assign(i,r.findAndGetUrls(h,o).urls),t.createElement(s,Object.assign({},i))}}function D(t,e=null){const n=e||r,s=Object.assign({},n),o=e=>(r,s,o)=>{const a=n[e];if(a){const{byName:e,urls:{as:n,href:i}}=t.findAndGetUrls(r,s);return a(i,n,e?o:s)}};return s.pushRoute=o("push"),s.replaceRoute=o("replace"),s.prefetchRoute=o("prefetch"),s}export default t=>{const{Link:e=null,Router:r=null}=t||{},n=new S;return{registry:n,Link:M(n,e),Router:D(n,r)}};export{_ as Route,H as toQuerystring};
//# sourceMappingURL=index.es.min.js.map
