"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),r=e(require("next/link")),n=require("next/router"),s=e(n),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e,t){return e(t={exports:{}},t.exports),t.exports}var i=a((function(e,t){!function(r){var n=t&&!t.nodeType&&t,s=e&&!e.nodeType&&e,a="object"==typeof o&&o;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var i,h,u=2147483647,f=/^xn--/,p=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,d=String.fromCharCode;function v(e){throw RangeError(c[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function g(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(l,".")).split("."),t).join(".")}function x(e){for(var t,r,n=[],s=0,o=e.length;s<o;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<o?56320==(64512&(r=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),s--):n.push(t);return n}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;n+=36)e=m(e/35);return m(n+36*e/(e+38))}function j(e){var t,r,n,s,o,a,i,h,f,p,l,c=[],d=e.length,y=0,g=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&v("not-basic"),c.push(e.charCodeAt(n));for(s=r>0?r+1:0;s<d;){for(o=y,a=1,i=36;s>=d&&v("invalid-input"),((h=(l=e.charCodeAt(s++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36)>=36||h>m((u-y)/a))&&v("overflow"),y+=h*a,!(h<(f=i<=x?1:i>=x+26?26:i-x));i+=36)a>m(u/(p=36-f))&&v("overflow"),a*=p;x=O(y-o,t=c.length+1,0==o),m(y/t)>u-g&&v("overflow"),g+=m(y/t),y%=t,c.splice(y++,0,g)}return b(c)}function A(e){var t,r,n,s,o,a,i,h,f,p,l,c,y,g,b,j=[];for(c=(e=x(e)).length,t=128,r=0,o=72,a=0;a<c;++a)(l=e[a])<128&&j.push(d(l));for(n=s=j.length,s&&j.push("-");n<c;){for(i=u,a=0;a<c;++a)(l=e[a])>=t&&l<i&&(i=l);for(i-t>m((u-r)/(y=n+1))&&v("overflow"),r+=(i-t)*y,t=i,a=0;a<c;++a)if((l=e[a])<t&&++r>u&&v("overflow"),l==t){for(h=r,f=36;!(h<(p=f<=o?1:f>=o+26?26:f-o));f+=36)b=h-p,g=36-p,j.push(d(w(p+b%g,0))),h=m(b/g);j.push(d(w(h,0))),o=O(r,y,n==s),r=0,++n}++r,++t}return j.join("")}if(i={version:"1.3.2",ucs2:{decode:x,encode:b},decode:j,encode:A,toASCII:function(e){return g(e,(function(e){return p.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return g(e,(function(e){return f.test(e)?j(e.slice(4).toLowerCase()):e}))}},n&&s)if(e.exports==n)s.exports=i;else for(h in i)i.hasOwnProperty(h)&&(n[h]=i[h]);else r.punycode=i}(o)})),h=function(e){return"string"==typeof e},u=function(e){return"object"==typeof e&&null!==e},f=function(e){return null===e},p=function(e){return null==e};function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var c=function(e,t,r,n){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var i=e.length;a>0&&i>a&&(i=a);for(var h=0;h<i;++h){var u,f,p,c,m=e[h].replace(o,"%20"),d=m.indexOf(r);d>=0?(u=m.substr(0,d),f=m.substr(d+1)):(u=m,f=""),p=decodeURIComponent(u),c=decodeURIComponent(f),l(s,p)?Array.isArray(s[p])?s[p].push(c):s[p]=[s[p],c]:s[p]=c}return s},m=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},d=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var s=encodeURIComponent(m(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return s+encodeURIComponent(m(e))})).join(t):s+encodeURIComponent(m(e[n]))})).join(t):n?encodeURIComponent(m(n))+r+encodeURIComponent(m(e)):""},v=a((function(e,t){t.decode=t.parse=c,t.encode=t.stringify=d})),y=(v.decode,v.parse,v.encode,v.stringify,U);function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var x=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,O=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),j=["'"].concat(O),A=["%","/","?",";","#"].concat(j),E=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},I={javascript:!0,"javascript:":!0},P={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function U(e,t,r){if(e&&u(e)&&e instanceof g)return e;var n=new g;return n.parse(e,t,r),n}function T(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var s=1,o="";if("?"===e[i=r+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0===--s){i++;break}}else if("("===e[i]&&(s++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);o+=e[i++]}else o+=e[i++]+e[i++];if(s)throw new TypeError("Unbalanced pattern at "+r);if(!o)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:o}),r=i}else{for(var a="",i=r+1;i<e.length;){var h=e.charCodeAt(i);if(!(h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||95===h))break;a+=e[i++]}if(!a)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=i}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,s=void 0===n?"./":n,o="[^"+k(t.delimiter||"/#?")+"]+?",a=[],i=0,h=0,u="",f=function(e){if(h<r.length&&r[h].type===e)return r[h++].value},p=function(e){var t=f(e);if(void 0!==t)return t;var n=r[h],s=n.type,o=n.index;throw new TypeError("Unexpected "+s+" at "+o+", expected "+e)},l=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t};h<r.length;){var c=f("CHAR"),m=f("NAME"),d=f("PATTERN");if(m||d){var v=c||"";-1===s.indexOf(v)&&(u+=v,v=""),u&&(a.push(u),u=""),a.push({name:m||i++,prefix:v,suffix:"",pattern:d||o,modifier:f("MODIFIER")||""})}else{var y=c||f("ESCAPED_CHAR");if(y)u+=y;else if(u&&(a.push(u),u=""),f("OPEN")){v=l();var g=f("NAME")||"",x=f("PATTERN")||"",b=l();p("CLOSE"),a.push({name:g||(x?i++:""),pattern:g&&!x?o:x,prefix:v,suffix:b,modifier:f("MODIFIER")||""})}else p("END")}}return a}function N(e,t){return function(e,t){void 0===t&&(t={});var r=$(t),n=t.encode,s=void 0===n?function(e){return e}:n,o=t.validate,a=void 0===o||o,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",r)}));return function(t){for(var r="",n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o){var h=t?t[o.name]:void 0,u="?"===o.modifier||"*"===o.modifier,f="*"===o.modifier||"+"===o.modifier;if(Array.isArray(h)){if(!f)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===h.length){if(u)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var p=0;p<h.length;p++){var l=s(h[p],o);if(a&&!i[n].test(l))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+l+'"');r+=o.prefix+l+o.suffix}}else if("string"!=typeof h&&"number"!=typeof h){if(!u){var c=f?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+c)}}else{l=s(String(h),o);if(a&&!i[n].test(l))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+l+'"');r+=o.prefix+l+o.suffix}}else r+=o}return r}}(T(e,t),t)}function k(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function $(e){return e&&e.sensitive?"":"i"}function _(e,t,r){return function(e,t,r){void 0===r&&(r={});for(var n=r.strict,s=void 0!==n&&n,o=r.start,a=void 0===o||o,i=r.end,h=void 0===i||i,u=r.encode,f=void 0===u?function(e){return e}:u,p="["+k(r.endsWith||"")+"]|$",l="["+k(r.delimiter||"/#?")+"]",c=a?"^":"",m=0,d=e;m<d.length;m++){var v=d[m];if("string"==typeof v)c+=k(f(v));else{var y=k(f(v.prefix)),g=k(f(v.suffix));if(v.pattern)if(t&&t.push(v),y||g)if("+"===v.modifier||"*"===v.modifier){var x="*"===v.modifier?"?":"";c+="(?:"+y+"((?:"+v.pattern+")(?:"+g+y+"(?:"+v.pattern+"))*)"+g+")"+x}else c+="(?:"+y+"("+v.pattern+")"+g+")"+v.modifier;else c+="("+v.pattern+")"+v.modifier;else c+="(?:"+y+g+")"+v.modifier}}if(h)s||(c+=l+"?"),c+=r.endsWith?"(?="+p+")":"$";else{var b=e[e.length-1],w="string"==typeof b?l.indexOf(b[b.length-1])>-1:void 0===b;s||(c+="(?:"+l+"(?="+p+"))?"),w||(c+="(?="+l+"|"+p+")")}return new RegExp(c,$(r))}(T(e,r),t,r)}function H(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return H(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",$(r))}(e,t,r):_(e,t,r)}g.prototype.parse=function(e,t,r){if(!h(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),s=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(s);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(s);if(a=a.trim(),!r&&1===e.split("#").length){var u=w.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=x.exec(a);if(f){var p=(f=f[0]).toLowerCase();this.protocol=p,a=a.substr(f.length)}if(r||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===a.substr(0,2);!l||f&&I[f]||(a=a.substr(2),this.slashes=!0)}if(!I[f]&&(l||f&&!P[f])){for(var c,m,d=-1,y=0;y<E.length;y++){-1!==(g=a.indexOf(E[y]))&&(-1===d||g<d)&&(d=g)}-1!==(m=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d))&&(c=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(c)),d=-1;for(y=0;y<A.length;y++){var g;-1!==(g=a.indexOf(A[y]))&&(-1===d||g<d)&&(d=g)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var O=this.hostname.split(/\./),U=(y=0,O.length);y<U;y++){var T=O[y];if(T&&!T.match(R)){for(var N="",k=0,$=T.length;k<$;k++)T.charCodeAt(k)>127?N+="x":N+=T[k];if(!N.match(R)){var _=O.slice(0,y),H=O.slice(y+1),M=T.match(C);M&&(_.push(M[1]),H.unshift(M[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=_.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=i.toASCII(this.hostname));var S=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+S,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!q[p])for(y=0,U=j.length;y<U;y++){var F=j[y];if(-1!==a.indexOf(F)){var L=encodeURIComponent(F);L===F&&(L=escape(F)),a=a.split(F).join(L)}}var B=a.indexOf("#");-1!==B&&(this.hash=a.substr(B),a=a.slice(0,B));var G=a.indexOf("?");if(-1!==G?(this.search=a.substr(G),this.query=a.substr(G+1),t&&(this.query=v.parse(this.query)),a=a.slice(0,G)):t&&(this.search="",this.query={}),a&&(this.pathname=a),P[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){S=this.pathname||"";var z=this.search||"";this.path=S+z}return this.href=this.format(),this},g.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||P[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},g.prototype.resolve=function(e){return this.resolveObject(U(e,!1,!0)).format()},g.prototype.resolveObject=function(e){if(h(e)){var t=new g;t.parse(e,!1,!0),e=t}for(var r=new g,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),i=0;i<a.length;i++){var u=a[i];"protocol"!==u&&(r[u]=e[u])}return P[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!P[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var m=l[c];r[m]=e[m]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||I[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var x=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||x||r.host&&e.pathname,O=w,j=r.pathname&&r.pathname.split("/")||[],A=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!P[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===j[0]?j[0]=r.host:j.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),w=w&&(""===d[0]||""===j[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,j=d;else if(d.length)j||(j=[]),j.pop(),j=j.concat(d),r.search=e.search,r.query=e.query;else if(!p(e.search)){if(A)r.hostname=r.host=j.shift(),(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift());return r.search=e.search,r.query=e.query,f(r.pathname)&&f(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!j.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=j.slice(-1)[0],R=(r.host||e.host||j.length>1)&&("."===E||".."===E)||""===E,C=0,q=j.length;q>=0;q--)"."===(E=j[q])?j.splice(q,1):".."===E?(j.splice(q,1),C++):C&&(j.splice(q,1),C--);if(!w&&!O)for(;C--;C)j.unshift("..");!w||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),R&&"/"!==j.join("/").substr(-1)&&j.push("");var U,T=""===j[0]||j[0]&&"/"===j[0].charAt(0);A&&(r.hostname=r.host=T?"":j.length?j.shift():"",(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift()));return(w=w||r.host&&j.length)&&!T&&j.unshift(""),j.length?r.pathname=j.join("/"):(r.pathname=null,r.path=null),f(r.pathname)&&f(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},g.prototype.parseHost=function(){var e=this.host,t=b.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const M=e=>Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]).map(t=>{let r=e[t];return Array.isArray(r)&&(r=r.join("/")),[encodeURIComponent(t),encodeURIComponent(r)].join("=")}).join("&");class S{constructor(e){const{name:t,pattern:r,page:n=t}=e;if(!t&&!n)throw new Error(`Missing page to render for route "${r}"`);this.name=t,n&&this.updatePage(n),r&&this.updatePattern(r)}updatePattern(e){this.pattern!==e&&(this.pattern=e||"/"+this.name,this.regex=H(this.pattern,this.keys=[]),this.keyNames=this.keys.map(e=>e.name),this.toPath=N(this.pattern))}updatePage(e=""){this.page!==e&&(this.page=(""+e).replace(/(^|\/)index$/,"").replace(/^\/?/,"/"))}match(e){const t=this.regex.exec(e);if(t)return this.valuesToParams(t.slice(1))}valuesToParams(e){return e.reduce((e,t,r)=>void 0===t?e:Object.assign(e,{[this.keys[r].name]:decodeURIComponent(t)}),{})}getHref(e={}){return`${this.page}?${M(e)}`}getAs(e={}){const t=this.toPath(e)||"/",r=Object.keys(e).filter(e=>-1===this.keyNames.indexOf(e));if(!r.length)return t;const n=r.reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{});return`${t}?${M(n)}`}getUrls(e){return{as:this.getAs(e),href:this.getHref(e)}}}class D{constructor(){this._routes=[],this._routes=[]}get routes(){return this._routes}createOption(e,t,r){let n={},s=e;return e instanceof Object?s=n.name:("/"===e[0]&&(r=t,t=e,s=null),n={name:s,pattern:t,page:r}),n}add(e,t,r){const n=e instanceof Object?e:this.createOption(e,t,r);if(this.findByName(n.name))throw new Error(`Route "${n.name}" already exists`);return this._routes.push(new S(n)),this}set(e,t,r){const n=e instanceof Object?e:this.createOption(e,t,r),s=this.findByName(n.name);return s?(n.pattern&&s.updatePattern(n.pattern),n.page&&s.updatePage(n.page)):this._routes.push(new S(n)),this}findByName(e){return e?this._routes.filter(t=>t.name===e)[0]:null}match(e){const t=y(e,!0),{pathname:r,query:n}=t;return this._routes.reduce((e,t)=>{if(e.route)return e;const s=t.match(r);return s?Object.assign(Object.assign({},e),{route:t,params:s,query:Object.assign(Object.assign({},n),s)}):e},{route:null,query:n,parsedUrl:t})}findAndGetUrls(e,t={}){const r=this.findByName(e);if(r)return{route:r,urls:r.getUrls(t),byName:!0};{const{route:t,query:r}=this.match(e),n=t?t.getHref(r):e;return{route:t,urls:{href:n,as:e},byName:!1}}}getRequestHandler(e,t=null){const r=e.getRequestHandler();return(n,s,o=null)=>{const{route:a,query:i,parsedUrl:h}=this.match(n.url);a?t?t({req:n,res:s,route:a,query:o?o({req:n,query:i,route:a}):i,parsedUrl:h}):e.render(n,s,a.page,o?o({req:n,query:i,route:a}):i,h):r(n,s,o?o({req:n,query:i,route:a}):i,h)}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function F(e,n=null){const s=n||r;return r=>{const{route:n,params:o,to:a}=r,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(r,["route","params","to"]),h=n||a;return h&&Object.assign(i,e.findAndGetUrls(h,o).urls),t.createElement(s,Object.assign({},i))}}function L(e,t=null){const r=t||s,n=Object.assign({},r),o=t=>(n,s,o)=>{const a=r[t];if(a){const{byName:t,urls:{as:r,href:i}}=e.findAndGetUrls(n,s);return a(i,r,t?o:s)}};return n.pushRoute=o("push"),n.replaceRoute=o("replace"),n.prefetchRoute=o("prefetch"),n}const B=e=>()=>{const t=n.useRouter();return{matches:e.findAndGetUrls(t.asPath,t.query)}};exports.Route=S,exports.default=e=>{const{Link:t=null,Router:r=null}=e||{},n=new D;return{registry:n,Link:F(n,t),Router:L(n,r),useRouteRegistry:B(n)}},exports.toQuerystring=M;
//# sourceMappingURL=index.min.js.map
