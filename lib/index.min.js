"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("react")),r=t(require("next/link")),n=require("next/router"),o=t(n),a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var i=s((function(t,e){!function(r){var n=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,s="object"==typeof a&&a;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var i,u,h=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,d=String.fromCharCode;function y(t){throw RangeError(p[t])}function m(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function b(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+m((t=t.replace(l,".")).split("."),e).join(".")}function g(t){for(var e,r,n=[],o=0,a=t.length;o<a;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function _(t){return m(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function j(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,r){var n=0;for(t=r?v(t/700):t>>1,t+=v(t/e);t>455;n+=36)t=v(t/35);return v(n+36*t/(t+38))}function w(t){var e,r,n,o,a,s,i,u,c,f,l,p=[],d=t.length,m=0,b=128,g=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&y("not-basic"),p.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<d;){for(a=m,s=1,i=36;o>=d&&y("invalid-input"),((u=(l=t.charCodeAt(o++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36)>=36||u>v((h-m)/s))&&y("overflow"),m+=u*s,!(u<(c=i<=g?1:i>=g+26?26:i-g));i+=36)s>v(h/(f=36-c))&&y("overflow"),s*=f;g=O(m-a,e=p.length+1,0==a),v(m/e)>h-b&&y("overflow"),b+=v(m/e),m%=e,p.splice(m++,0,b)}return _(p)}function x(t){var e,r,n,o,a,s,i,u,c,f,l,p,m,b,_,w=[];for(p=(t=g(t)).length,e=128,r=0,a=72,s=0;s<p;++s)(l=t[s])<128&&w.push(d(l));for(n=o=w.length,o&&w.push("-");n<p;){for(i=h,s=0;s<p;++s)(l=t[s])>=e&&l<i&&(i=l);for(i-e>v((h-r)/(m=n+1))&&y("overflow"),r+=(i-e)*m,e=i,s=0;s<p;++s)if((l=t[s])<e&&++r>h&&y("overflow"),l==e){for(u=r,c=36;!(u<(f=c<=a?1:c>=a+26?26:c-a));c+=36)_=u-f,b=36-f,w.push(d(j(f+_%b,0))),u=v(_/b);w.push(d(j(u,0))),a=O(r,m,n==o),r=0,++n}++r,++e}return w.join("")}if(i={version:"1.3.2",ucs2:{decode:g,encode:_},decode:w,encode:x,toASCII:function(t){return b(t,(function(t){return f.test(t)?"xn--"+x(t):t}))},toUnicode:function(t){return b(t,(function(t){return c.test(t)?w(t.slice(4).toLowerCase()):t}))}},n&&o)if(t.exports==n)o.exports=i;else for(u in i)i.hasOwnProperty(u)&&(n[u]=i[u]);else r.punycode=i}(a)})),u=function(t){return"string"==typeof t},h=function(t){return"object"==typeof t&&null!==t},c=function(t){return null===t},f=function(t){return null==t};function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var i=t.length;s>0&&i>s&&(i=s);for(var u=0;u<i;++u){var h,c,f,p,v=t[u].replace(a,"%20"),d=v.indexOf(r);d>=0?(h=v.substr(0,d),c=v.substr(d+1)):(h=v,c=""),f=decodeURIComponent(h),p=decodeURIComponent(c),l(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o},v=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},d=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(v(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(v(t))})).join(e):o+encodeURIComponent(v(t[n]))})).join(e):n?encodeURIComponent(v(n))+r+encodeURIComponent(v(t)):""},y=s((function(t,e){e.decode=e.parse=p,e.encode=e.stringify=d})),m=(y.decode,y.parse,y.encode,y.stringify,k);function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,O=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),w=["'"].concat(O),x=["%","/","?",";","#"].concat(w),A=["/","?","#"],E=/^[+a-z0-9A-Z_-]{0,63}$/,R=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,P={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function k(t,e,r){if(t&&h(t)&&t instanceof b)return t;var n=new b;return n.parse(t,e,r),n}function I(t,e){void 0===e&&(e={});for(var r=function(t){for(var e=[],r=0;r<t.length;){var n=t[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)e.push({type:"CHAR",index:r,value:t[r++]});else{var o=1,a="";if("?"===t[i=r+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<t.length;)if("\\"!==t[i]){if(")"===t[i]){if(0===--o){i++;break}}else if("("===t[i]&&(o++,"?"!==t[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);a+=t[i++]}else a+=t[i++]+t[i++];if(o)throw new TypeError("Unbalanced pattern at "+r);if(!a)throw new TypeError("Missing pattern at "+r);e.push({type:"PATTERN",index:r,value:a}),r=i}else{for(var s="",i=r+1;i<t.length;){var u=t.charCodeAt(i);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;s+=t[i++]}if(!s)throw new TypeError("Missing parameter name at "+r);e.push({type:"NAME",index:r,value:s}),r=i}else e.push({type:"CLOSE",index:r,value:t[r++]});else e.push({type:"OPEN",index:r,value:t[r++]});else e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});else e.push({type:"MODIFIER",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}(t),n=e.prefixes,o=void 0===n?"./":n,a="[^"+T(e.delimiter||"/#?")+"]+?",s=[],i=0,u=0,h="",c=function(t){if(u<r.length&&r[u].type===t)return r[u++].value},f=function(t){var e=c(t);if(void 0!==e)return e;var n=r[u],o=n.type,a=n.index;throw new TypeError("Unexpected "+o+" at "+a+", expected "+t)},l=function(){for(var t,e="";t=c("CHAR")||c("ESCAPED_CHAR");)e+=t;return e};u<r.length;){var p=c("CHAR"),v=c("NAME"),d=c("PATTERN");if(v||d){var y=p||"";-1===o.indexOf(y)&&(h+=y,y=""),h&&(s.push(h),h=""),s.push({name:v||i++,prefix:y,suffix:"",pattern:d||a,modifier:c("MODIFIER")||""})}else{var m=p||c("ESCAPED_CHAR");if(m)h+=m;else if(h&&(s.push(h),h=""),c("OPEN")){y=l();var b=c("NAME")||"",g=c("PATTERN")||"",_=l();f("CLOSE"),s.push({name:b||(g?i++:""),pattern:b&&!g?a:g,prefix:y,suffix:_,modifier:c("MODIFIER")||""})}else f("END")}}return s}function U(t,e){return function(t,e){void 0===e&&(e={});var r=S(e),n=e.encode,o=void 0===n?function(t){return t}:n,a=e.validate,s=void 0===a||a,i=t.map((function(t){if("object"==typeof t)return new RegExp("^(?:"+t.pattern+")$",r)}));return function(e){for(var r="",n=0;n<t.length;n++){var a=t[n];if("string"!=typeof a){var u=e?e[a.name]:void 0,h="?"===a.modifier||"*"===a.modifier,c="*"===a.modifier||"+"===a.modifier;if(Array.isArray(u)){if(!c)throw new TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===u.length){if(h)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var f=0;f<u.length;f++){var l=o(u[f],a);if(s&&!i[n].test(l))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+l+'"');r+=a.prefix+l+a.suffix}}else if("string"!=typeof u&&"number"!=typeof u){if(!h){var p=c?"an array":"a string";throw new TypeError('Expected "'+a.name+'" to be '+p)}}else{l=o(String(u),a);if(s&&!i[n].test(l))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+l+'"');r+=a.prefix+l+a.suffix}}else r+=a}return r}}(I(t,e),e)}function T(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function S(t){return t&&t.sensitive?"":"i"}function z(t,e,r){return function(t,e,r){void 0===r&&(r={});for(var n=r.strict,o=void 0!==n&&n,a=r.start,s=void 0===a||a,i=r.end,u=void 0===i||i,h=r.encode,c=void 0===h?function(t){return t}:h,f="["+T(r.endsWith||"")+"]|$",l="["+T(r.delimiter||"/#?")+"]",p=s?"^":"",v=0,d=t;v<d.length;v++){var y=d[v];if("string"==typeof y)p+=T(c(y));else{var m=T(c(y.prefix)),b=T(c(y.suffix));if(y.pattern)if(e&&e.push(y),m||b)if("+"===y.modifier||"*"===y.modifier){var g="*"===y.modifier?"?":"";p+="(?:"+m+"((?:"+y.pattern+")(?:"+b+m+"(?:"+y.pattern+"))*)"+b+")"+g}else p+="(?:"+m+"("+y.pattern+")"+b+")"+y.modifier;else p+="("+y.pattern+")"+y.modifier;else p+="(?:"+m+b+")"+y.modifier}}if(u)o||(p+=l+"?"),p+=r.endsWith?"(?="+f+")":"$";else{var _=t[t.length-1],j="string"==typeof _?l.indexOf(_[_.length-1])>-1:void 0===_;o||(p+="(?:"+l+"(?="+f+"))?"),j||(p+="(?="+l+"|"+f+")")}return new RegExp(p,S(r))}(I(t,r),e,r)}function N(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return t}(t,e):Array.isArray(t)?function(t,e,r){var n=t.map((function(t){return N(t,e,r).source}));return new RegExp("(?:"+n.join("|")+")",S(r))}(t,e,r):z(t,e,r)}b.prototype.parse=function(t,e,r){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",a=t.split(o);a[0]=a[0].replace(/\\/g,"/");var s=t=a.join(o);if(s=s.trim(),!r&&1===t.split("#").length){var h=j.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=g.exec(s);if(c){var f=(c=c[0]).toLowerCase();this.protocol=f,s=s.substr(c.length)}if(r||c||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||c&&C[c]||(s=s.substr(2),this.slashes=!0)}if(!C[c]&&(l||c&&!q[c])){for(var p,v,d=-1,m=0;m<A.length;m++){-1!==(b=s.indexOf(A[m]))&&(-1===d||b<d)&&(d=b)}-1!==(v=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(p=s.slice(0,v),s=s.slice(v+1),this.auth=decodeURIComponent(p)),d=-1;for(m=0;m<x.length;m++){var b;-1!==(b=s.indexOf(x[m]))&&(-1===d||b<d)&&(d=b)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var O=this.hostname.split(/\./),k=(m=0,O.length);m<k;m++){var I=O[m];if(I&&!I.match(E)){for(var U="",T=0,S=I.length;T<S;T++)I.charCodeAt(T)>127?U+="x":U+=I[T];if(!U.match(E)){var z=O.slice(0,m),N=O.slice(m+1),$=I.match(R);$&&(z.push($[1]),N.unshift($[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=i.toASCII(this.hostname));var M=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+M,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!P[f])for(m=0,k=w.length;m<k;m++){var D=w[m];if(-1!==s.indexOf(D)){var H=encodeURIComponent(D);H===D&&(H=escape(D)),s=s.split(D).join(H)}}var L=s.indexOf("#");-1!==L&&(this.hash=s.substr(L),s=s.slice(0,L));var B=s.indexOf("?");if(-1!==B?(this.search=s.substr(B),this.query=s.substr(B+1),e&&(this.query=y.parse(this.query)),s=s.slice(0,B)):e&&(this.search="",this.query={}),s&&(this.pathname=s),q[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var G=this.search||"";this.path=M+G}return this.href=this.format(),this},b.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||q[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},b.prototype.resolve=function(t){return this.resolveObject(k(t,!1,!0)).format()},b.prototype.resolveObject=function(t){if(u(t)){var e=new b;e.parse(t,!1,!0),t=e}for(var r=new b,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),i=0;i<s.length;i++){var h=s[i];"protocol"!==h&&(r[h]=t[h])}return q[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!q[t.protocol]){for(var l=Object.keys(t),p=0;p<l.length;p++){var v=l[p];r[v]=t[v]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||C[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",m=r.search||"";r.path=y+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),j=_||g||r.host&&t.pathname,O=j,w=r.pathname&&r.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!q[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),j=j&&(""===d[0]||""===w[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),r.search=t.search,r.query=t.query;else if(!f(t.search)){if(x)r.hostname=r.host=w.shift(),(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift());return r.search=t.search,r.query=t.query,c(r.pathname)&&c(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=w.slice(-1)[0],E=(r.host||t.host||w.length>1)&&("."===A||".."===A)||""===A,R=0,P=w.length;P>=0;P--)"."===(A=w[P])?w.splice(P,1):".."===A?(w.splice(P,1),R++):R&&(w.splice(P,1),R--);if(!j&&!O)for(;R--;R)w.unshift("..");!j||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var k,I=""===w[0]||w[0]&&"/"===w[0].charAt(0);x&&(r.hostname=r.host=I?"":w.length?w.shift():"",(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift()));return(j=j||r.host&&w.length)&&!I&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),c(r.pathname)&&c(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},b.prototype.parseHost=function(){var t=this.host,e=_.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const $=t=>Object.keys(t).filter(e=>null!==t[e]&&void 0!==t[e]).map(e=>{let r=t[e];return Array.isArray(r)&&(r=r.join("/")),[encodeURIComponent(e),encodeURIComponent(r)].join("=")}).join("&");class M{constructor(t){const{name:e,pattern:r,page:n=e}=t;if(!e&&!n)throw new Error(`Missing page to render for route "${r}"`);this.name=e,n&&this.updatePage(n),r&&this.updatePattern(r)}updatePattern(t){this.pattern!==t&&(this.pattern=t||"/"+this.name,this.regex=N(this.pattern,this.keys=[]),this.keyNames=this.keys.map(t=>t.name),this.toPath=U(this.pattern))}updatePage(t=""){this.page!==t&&(this.page=(""+t).replace(/(^|\/)index$/,"").replace(/^\/?/,"/"))}match(t){const e=this.regex.exec(t);if(e)return this.valuesToParams(e.slice(1))}valuesToParams(t){return t.reduce((t,e,r)=>void 0===e?t:Object.assign(t,{[this.keys[r].name]:decodeURIComponent(e)}),{})}getHref(t={}){return`${this.page}?${$(t)}`}getAs(t={}){const e=this.toPath(t)||"/",r=Object.keys(t).filter(t=>-1===this.keyNames.indexOf(t));if(!r.length)return e;const n=r.reduce((e,r)=>Object.assign(e,{[r]:t[r]}),{});return`${e}?${$(n)}`}getUrls(t){return{as:this.getAs(t),href:this.getHref(t)}}}class F{constructor(){this._routes=[],this._callbacks={},this._routes=[]}get routes(){return this._routes}on(t,e){return this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),()=>{this.off(t,e)}}off(t,e){const r=this._callbacks[t].findIndex(t=>t===e);r>=0&&(this._callbacks[t]=this._callbacks[t].splice(r,1))}emit(t,...e){const r=this._callbacks[t];r&&r.forEach(t=>t.call(null,e))}createOption(t,e,r){let n={},o=t;return t instanceof Object?o=n.name:("/"===t[0]&&(r=e,e=t,o=null),n={name:o,pattern:e,page:r}),n}add(t,e,r){const n=t instanceof Object?t:this.createOption(t,e,r);if(this.findByName(n.name))throw new Error(`Route "${n.name}" already exists`);return this._routes.push(new M(n)),this.emit("change"),this}set(t,e,r){const n=t instanceof Object?t:this.createOption(t,e,r),o=this.findByName(n.name);return o?(n.pattern&&o.updatePattern(n.pattern),n.page&&o.updatePage(n.page)):this._routes.push(new M(n)),this.emit("change"),this}findByName(t){return t?this._routes.filter(e=>e.name===t)[0]:null}match(t){const e=m(t,!0),{pathname:r,query:n}=e;return this._routes.reduce((t,e)=>{if(t.route)return t;const o=e.match(r);return o?Object.assign(Object.assign({},t),{route:e,params:o,query:Object.assign(Object.assign({},n),o)}):t},{route:null,query:n,parsedUrl:e})}findAndGetUrls(t,e={}){const r=this.findByName(t);if(r)return{route:r,urls:r.getUrls(e),byName:!0};{const{route:e,query:r}=this.match(t),n=e?e.getHref(r):t;return{route:e,urls:{href:n,as:t,query:r},byName:!1}}}getRequestHandler(t,e=null){const r=t.getRequestHandler();return(n,o,a=null)=>{const{route:s,query:i,parsedUrl:u}=this.match(n.url);s?e?e({req:n,res:o,route:s,query:a?a({req:n,query:i,route:s}):i,parsedUrl:u}):t.render(n,o,s.page,a?a({req:n,query:i,route:s}):i,u):r(n,o,u)}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D=function(){this.__data__=[],this.size=0};var H=function(t,e){return t===e||t!=t&&e!=e};var L=function(t,e){for(var r=t.length;r--;)if(H(t[r][0],e))return r;return-1},B=Array.prototype.splice;var G=function(t){var e=this.__data__,r=L(e,t);return!(r<0)&&(r==e.length-1?e.pop():B.call(e,r,1),--this.size,!0)};var W=function(t){var e=this.__data__,r=L(e,t);return r<0?void 0:e[r][1]};var V=function(t){return L(this.__data__,t)>-1};var K=function(t,e){var r=this.__data__,n=L(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Z(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Z.prototype.clear=D,Z.prototype.delete=G,Z.prototype.get=W,Z.prototype.has=V,Z.prototype.set=K;var Q=Z;var J=function(){this.__data__=new Q,this.size=0};var X=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Y=function(t){return this.__data__.get(t)};var tt=function(t){return this.__data__.has(t)},et="object"==typeof a&&a&&a.Object===Object&&a,rt="object"==typeof self&&self&&self.Object===Object&&self,nt=et||rt||Function("return this")(),ot=nt.Symbol,at=Object.prototype,st=at.hasOwnProperty,it=at.toString,ut=ot?ot.toStringTag:void 0;var ht=function(t){var e=st.call(t,ut),r=t[ut];try{t[ut]=void 0;var n=!0}catch(t){}var o=it.call(t);return n&&(e?t[ut]=r:delete t[ut]),o},ct=Object.prototype.toString;var ft=function(t){return ct.call(t)},lt=ot?ot.toStringTag:void 0;var pt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":lt&&lt in Object(t)?ht(t):ft(t)};var vt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var dt,yt=function(t){if(!vt(t))return!1;var e=pt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},mt=nt["__core-js_shared__"],bt=(dt=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||""))?"Symbol(src)_1."+dt:"";var gt=function(t){return!!bt&&bt in t},_t=Function.prototype.toString;var jt=function(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ot=/^\[object .+?Constructor\]$/,wt=Function.prototype,xt=Object.prototype,At=wt.toString,Et=xt.hasOwnProperty,Rt=RegExp("^"+At.call(Et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Pt=function(t){return!(!vt(t)||gt(t))&&(yt(t)?Rt:Ot).test(jt(t))};var Ct=function(t,e){return null==t?void 0:t[e]};var qt=function(t,e){var r=Ct(t,e);return Pt(r)?r:void 0},kt=qt(nt,"Map"),It=qt(Object,"create");var Ut=function(){this.__data__=It?It(null):{},this.size=0};var Tt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},St=Object.prototype.hasOwnProperty;var zt=function(t){var e=this.__data__;if(It){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return St.call(e,t)?e[t]:void 0},Nt=Object.prototype.hasOwnProperty;var $t=function(t){var e=this.__data__;return It?void 0!==e[t]:Nt.call(e,t)};var Mt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=It&&void 0===e?"__lodash_hash_undefined__":e,this};function Ft(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ft.prototype.clear=Ut,Ft.prototype.delete=Tt,Ft.prototype.get=zt,Ft.prototype.has=$t,Ft.prototype.set=Mt;var Dt=Ft;var Ht=function(){this.size=0,this.__data__={hash:new Dt,map:new(kt||Q),string:new Dt}};var Lt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Bt=function(t,e){var r=t.__data__;return Lt(e)?r["string"==typeof e?"string":"hash"]:r.map};var Gt=function(t){var e=Bt(this,t).delete(t);return this.size-=e?1:0,e};var Wt=function(t){return Bt(this,t).get(t)};var Vt=function(t){return Bt(this,t).has(t)};var Kt=function(t,e){var r=Bt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Zt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zt.prototype.clear=Ht,Zt.prototype.delete=Gt,Zt.prototype.get=Wt,Zt.prototype.has=Vt,Zt.prototype.set=Kt;var Qt=Zt;var Jt=function(t,e){var r=this.__data__;if(r instanceof Q){var n=r.__data__;if(!kt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Qt(n)}return r.set(t,e),this.size=r.size,this};function Xt(t){var e=this.__data__=new Q(t);this.size=e.size}Xt.prototype.clear=J,Xt.prototype.delete=X,Xt.prototype.get=Y,Xt.prototype.has=tt,Xt.prototype.set=Jt;var Yt=Xt;var te=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var ee=function(t){return this.__data__.has(t)};function re(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Qt;++e<r;)this.add(t[e])}re.prototype.add=re.prototype.push=te,re.prototype.has=ee;var ne=re;var oe=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var ae=function(t,e){return t.has(e)};var se=function(t,e,r,n,o,a){var s=1&r,i=t.length,u=e.length;if(i!=u&&!(s&&u>i))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var c=-1,f=!0,l=2&r?new ne:void 0;for(a.set(t,e),a.set(e,t);++c<i;){var p=t[c],v=e[c];if(n)var d=s?n(v,p,c,e,t,a):n(p,v,c,t,e,a);if(void 0!==d){if(d)continue;f=!1;break}if(l){if(!oe(e,(function(t,e){if(!ae(l,e)&&(p===t||o(p,t,r,n,a)))return l.push(e)}))){f=!1;break}}else if(p!==v&&!o(p,v,r,n,a)){f=!1;break}}return a.delete(t),a.delete(e),f},ie=nt.Uint8Array;var ue=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var he=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},ce=ot?ot.prototype:void 0,fe=ce?ce.valueOf:void 0;var le=function(t,e,r,n,o,a,s){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new ie(t),new ie(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return H(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var i=ue;case"[object Set]":var u=1&n;if(i||(i=he),t.size!=e.size&&!u)return!1;var h=s.get(t);if(h)return h==e;n|=2,s.set(t,e);var c=se(i(t),i(e),n,o,a,s);return s.delete(t),c;case"[object Symbol]":if(fe)return fe.call(t)==fe.call(e)}return!1};var pe=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},ve=Array.isArray;var de=function(t,e,r){var n=e(t);return ve(t)?n:pe(n,r(t))};var ye=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[o++]=s)}return a};var me=function(){return[]},be=Object.prototype.propertyIsEnumerable,ge=Object.getOwnPropertySymbols,_e=ge?function(t){return null==t?[]:(t=Object(t),ye(ge(t),(function(e){return be.call(t,e)})))}:me;var je=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Oe=function(t){return null!=t&&"object"==typeof t};var we=function(t){return Oe(t)&&"[object Arguments]"==pt(t)},xe=Object.prototype,Ae=xe.hasOwnProperty,Ee=xe.propertyIsEnumerable,Re=we(function(){return arguments}())?we:function(t){return Oe(t)&&Ae.call(t,"callee")&&!Ee.call(t,"callee")};var Pe=function(){return!1},Ce=s((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?nt.Buffer:void 0,a=(o?o.isBuffer:void 0)||Pe;t.exports=a})),qe=/^(?:0|[1-9]\d*)$/;var ke=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&qe.test(t))&&t>-1&&t%1==0&&t<e};var Ie=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ue={};Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Arguments]"]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object Boolean]"]=Ue["[object DataView]"]=Ue["[object Date]"]=Ue["[object Error]"]=Ue["[object Function]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object WeakMap]"]=!1;var Te=function(t){return Oe(t)&&Ie(t.length)&&!!Ue[pt(t)]};var Se=function(t){return function(e){return t(e)}},ze=s((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&et.process,a=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a})),Ne=ze&&ze.isTypedArray,$e=Ne?Se(Ne):Te,Me=Object.prototype.hasOwnProperty;var Fe=function(t,e){var r=ve(t),n=!r&&Re(t),o=!r&&!n&&Ce(t),a=!r&&!n&&!o&&$e(t),s=r||n||o||a,i=s?je(t.length,String):[],u=i.length;for(var h in t)!e&&!Me.call(t,h)||s&&("length"==h||o&&("offset"==h||"parent"==h)||a&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||ke(h,u))||i.push(h);return i},De=Object.prototype;var He=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||De)};var Le=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Be=Object.prototype.hasOwnProperty;var Ge=function(t){if(!He(t))return Le(t);var e=[];for(var r in Object(t))Be.call(t,r)&&"constructor"!=r&&e.push(r);return e};var We=function(t){return null!=t&&Ie(t.length)&&!yt(t)};var Ve=function(t){return We(t)?Fe(t):Ge(t)};var Ke=function(t){return de(t,Ve,_e)},Ze=Object.prototype.hasOwnProperty;var Qe=function(t,e,r,n,o,a){var s=1&r,i=Ke(t),u=i.length;if(u!=Ke(e).length&&!s)return!1;for(var h=u;h--;){var c=i[h];if(!(s?c in e:Ze.call(e,c)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var l=!0;a.set(t,e),a.set(e,t);for(var p=s;++h<u;){var v=t[c=i[h]],d=e[c];if(n)var y=s?n(d,v,c,e,t,a):n(v,d,c,t,e,a);if(!(void 0===y?v===d||o(v,d,r,n,a):y)){l=!1;break}p||(p="constructor"==c)}if(l&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(l=!1)}return a.delete(t),a.delete(e),l},Je=qt(nt,"DataView"),Xe=qt(nt,"Promise"),Ye=qt(nt,"Set"),tr=qt(nt,"WeakMap"),er=jt(Je),rr=jt(kt),nr=jt(Xe),or=jt(Ye),ar=jt(tr),sr=pt;(Je&&"[object DataView]"!=sr(new Je(new ArrayBuffer(1)))||kt&&"[object Map]"!=sr(new kt)||Xe&&"[object Promise]"!=sr(Xe.resolve())||Ye&&"[object Set]"!=sr(new Ye)||tr&&"[object WeakMap]"!=sr(new tr))&&(sr=function(t){var e=pt(t),r="[object Object]"==e?t.constructor:void 0,n=r?jt(r):"";if(n)switch(n){case er:return"[object DataView]";case rr:return"[object Map]";case nr:return"[object Promise]";case or:return"[object Set]";case ar:return"[object WeakMap]"}return e});var ir=sr,ur=Object.prototype.hasOwnProperty;var hr=function(t,e,r,n,o,a){var s=ve(t),i=ve(e),u=s?"[object Array]":ir(t),h=i?"[object Array]":ir(e),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(h="[object Arguments]"==h?"[object Object]":h),l=u==h;if(l&&Ce(t)){if(!Ce(e))return!1;s=!0,c=!1}if(l&&!c)return a||(a=new Yt),s||$e(t)?se(t,e,r,n,o,a):le(t,e,u,r,n,o,a);if(!(1&r)){var p=c&&ur.call(t,"__wrapped__"),v=f&&ur.call(e,"__wrapped__");if(p||v){var d=p?t.value():t,y=v?e.value():e;return a||(a=new Yt),o(d,y,r,n,a)}}return!!l&&(a||(a=new Yt),Qe(t,e,r,n,o,a))};var cr=function t(e,r,n,o,a){return e===r||(null==e||null==r||!Oe(e)&&!Oe(r)?e!=e&&r!=r:hr(e,r,n,o,t,a))};var fr=function(t,e){return cr(t,e)};function lr(t,n=null){const o=n||r;return function(r){const{route:n,params:a,to:s}=r,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(r,["route","params","to"]),u=n||s,h=function(t,r,n={}){const o=r?t.findAndGetUrls(r,n):{route:null,urls:{as:"",href:"",query:{}},byName:!1},[a,s]=e.useState(o.urls);return e.useEffect(()=>{const e=t.on("change",()=>{const e=r?t.findAndGetUrls(r,n):{route:null,urls:{as:"",href:"",query:{}},byName:!1};e.urls&&fr(a,e.urls)||s(e.urls)});return()=>{e()}},[]),o}(t,u,a);let c=i;return h&&Object.assign(c,h.urls),c.href||(c.href=u),c.params||(c.params=a),e.createElement(o,Object.assign({},c))}}exports.Route=M,exports.default=t=>{const{Link:e=null,Router:r=null}=t||{},a=new F,s=function(t){return()=>{const e=n.useRouter();return{matches:t.findAndGetUrls(e.asPath,e.query)}}}(a),i=lr(a,e),u=function(t,e=null){const r=e||o,n=Object.assign({},r),a=e=>(n,o,a)=>{const s=r[e];if(s){const{byName:e,urls:{as:r,href:i}}=t.findAndGetUrls(n,o);return s(i,r,e?a:o)}};return n.pushRoute=a("push"),n.replaceRoute=a("replace"),n.prefetchRoute=a("prefetch"),n}(a,r);return{registry:a,Link:i,Router:u,useRouteRegistry:s}},exports.toQuerystring=$;
//# sourceMappingURL=index.min.js.map
